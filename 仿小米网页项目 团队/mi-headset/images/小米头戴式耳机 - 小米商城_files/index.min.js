!function(t){function i(e){if(a[e])return a[e].exports;var r=a[e]={exports:{},id:e,loaded:!1};return t[e].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}var a={};return i.m=t,i.c=a,i.p="",i(0)}([function(t,i,a){t.exports=a(1)},function(t,i,a){a(2),a(7),a(8),jQuery(function(t){function i(i){a.find(".section-items").each(function(){var a=t(this),e=i.scrollTop(),r=a.offset().top-i.height(),n=a.offset().top-i.height()/2;e>=r&&(a.hasClass("mj-active")||a.find("img").each(function(){var i=t(this).attr("data-src");t(this).attr("src",i).addClass("img-bg")})),e>=n&&a.addClass("mj-active")})}var a=t("#J_sectionItems");i(t(window)),t(window).scroll(function(){i(t(window))}),MI.getProductPrice({priceWrapper:".J_priceWrapper",originalPrice:".J_originalPrice",currentPrice:".J_currentPrice"})})},function(t,i,a){a(3),a(4),jQuery(document).ready(function(){MI.proNav()})},function(t,i){!function(t){function i(i){function a(){for(var i=-1,a=t(document).scrollTop(),e=0,r=d.length;r>e&&a+o.viewport.height()>d[e];e+=1)i+=1;return i}function e(){var i=a();c!==i&&(c=i,s.filter(function(i){return c>=i&&!t(this).hasClass(o.visibleClass)}).addClass(o.visibleClass).trigger("visible.visibleWatcher"),o.onVisible(s.eq(c),c))}function r(){s.each(function(){var i=t(this).attr("data-offset")?Number(t(this).attr("data-offset")):o.offset,a=i%1===0?i:i*o.viewport.height();d.push(t(this).offset().top+a)}),e(),o.onLoad()}var n,o,s=t(this),c=-1,d=[];n={viewport:t(window),visibleClass:"is-visible",offset:300,onLoad:t.noop,onVisible:t.noop},o=t.extend({},n,i),r(),o.viewport.on({"scroll.visibleWatcher":e,"resize.visibleWatcher":r})}t.fn.visibleWatcher=function(t){return i.call(this,t),this}}(jQuery)},function(t,i,a){MI.proNav=function(t){if(0!==$("#J_proHeader").length){var i=a(5),e=$("#J_proHeader").find("h2").text();$("#J_proHeader").html(i(e)),window.tarList=[];var r=window.tarList,n=function(){var t=$(window).scrollTop();for(var i in r)if(r.hasOwnProperty(i)){var a=r[i],e=a.top;t>e?a.callback(a,t):a.reverse&&a.reverse(a,t)}};$(window).on("scroll",function(){n()}),0===$(".J_miOneScroller").length&&$("html,body").animate({scrollTop:1===$("#J_proHeader").length?$("#J_proHeader").offset().top:140},1e3),t=t||{};var o={id:t.id?t.id:"",target:t.target?t.target:""},s=function(){var t=140;1===$("#J_proHeader").length&&(t=$("#J_proHeader").offset().top+$("#J_proHeader").height());var i=t;r.push({top:i,callback:function(){$("#J_fixNarBar").addClass("nav_fix")},reverse:function(){$("#J_fixNarBar").removeClass("nav_fix")}})},c={};o.id?c.product_id=o.id:c.url="http://"+window.location.host+window.location.pathname,$.ajax({type:"GET",url:MI.GLOBAL_CONFIG.orderSite+"/product/gettabinfo",data:c,dataType:"jsonp",jsonp:"jsonpcallback",timeout:1e4,success:function(t){if(1===t.code&&(t=t.data,t.link)){t.link.id=o.id||t.link.product_id,t.link.target=o.target,t.link.domain=MI.GLOBAL_CONFIG.itemSite,t.link.url="//"+window.location.host+window.location.pathname;var i=a(6);if($(".J_navSwitch").find(".con").html(i(t.link)),$(".J_buyBtn").attr("href",MI.GLOBAL_CONFIG.itemSite+"/product/"+t.link.id+".html"),s(),t.link.qrcode_list){var e=$("#J_mpQrcode"),r=$("#J_mpQrcodeTmp");if(e.length>0&&r.length>0){var n=doT.template(r.html());e.html(n(t.link))}}}}})}}},function(t,i){t.exports=function(t){var i='<div class="xm-product-box"> <div class="nav-bar" id="J_headNav"> <div class="container J_navSwitch"> <h2 class="J_proName">'+t+'</h2> <div class="con"></div> </div> </div></div><div class="xm-product-box nav-bar-hidden" id="J_fixNarBar"> <div class="nav-bar" > <div class="container J_navSwitch"> <h2 class="J_proName">'+t+'</h2> <div class="con"></div> </div> </div></div>';return i}},function(t,i){t.exports=function(t){var i="";if(t.left&&t.left.length>0){i+='<div class="left"> ';var a=t.left;if(a)for(var e,r=-1,n=a.length-1;n>r;){e=a[r+=1],i+=" ";var o=e.url.replace(/^http:\/\/|^https:\/\//g,"//");i+=' <span class="separator">|</span> ',o===t.url?i+=' <a  href="javascript:void(0);" class="cur" >'+e.title+"</a> ":(i+=' <a  href="'+o+'" ',e.is_new_page&&(i+='target="_blank"'),i+=">"+e.title+"</a> "),i+=" "}i+="</div>"}if(i+='<div class="right">',t.right&&t.right.length>0){i+=" ";var s=t.right;if(s)for(var e,r=-1,c=s.length-1;c>r;){e=s[r+=1],i+=" ";var o=e.url.replace(/^http:\/\/|^https:\/\//g,"//");i+=" ",o===t.url?i+=' <a  href="javascript:void(0);" class="cur" >'+e.title+"</a> ":(i+=' <a  href="'+o+'" ',e.is_new_page&&(i+='target="_blank"'),i+=">"+e.title+"</a> "),i+=' <span class="separator">|</span> '}}return t.id&&(i+=" ","buy"===t.target&&(i+=' <a href="'+t.domain+"/comment/"+t.id+'.html">用户评价</a> '),i+=" ","comment"===t.target&&(i+=' <a href="javascript:void(0);" class="cur">用户评价</a> <a href="'+t.domain+"/product/"+t.id+'.html" class="btn btn-small btn-primary" >立即购买</a> '),i+=" ","buy"!==t.target&&"comment"!==t.target&&(i+=' <a href="'+t.domain+"/comment/"+t.id+'.html" >用户评价</a> <a href="'+t.domain+"/product/"+t.id+'.html" class="btn btn-small btn-primary" >立即购买</a> ')),i+="</div>"}},function(t,i){!function(t){t.fn.wangfullpage=function(){var i=this,a=".mjfullpage-items",e=".mjPosition",r=".mjPosition-items",n={};i.each(function(){var i=t(this);i.attr("data-index",0),i.find(a).eq(0).addClass("cur"),i.find(e).css({marginLeft:-(i.find(e).height()+20)/2})});var o=function(){var o=t(window).height(),s=t(window).scrollTop();return i.each(function(i){var c=t(this),d=c.offset().top,l=c.find(a);n[i]=l.length;var f=d+c.height()-o,p=s>=d&&f>=s?"fixed":"absolute";if(c.css({height:o*n[i]}),l.css({height:o,position:p,width:"100%",top:0,left:0}),0===c.find(e).length&&(c.append('<div class="mjPosition"></div>'),l.each(function(t){c.find(e).append('<a class="mjPosition-items" href="javascript:;"><span>'+t+"</span></a>")}),c.find(r).eq(0).addClass("cur")),"absolute"===p)c.find(e).hide(),s>d&&l.last().css({top:"auto",bottom:0,opacity:1});else{c.find(e).show();var h=(s-d)/(o/1.5),u=parseInt(h),v=s>=d?u:0;u>=n[i]&&(v=n[i]-1),c.attr("data-index")!==v&&(c.find(r).removeClass("cur").eq(v).addClass("cur"),l.removeClass("cur").css({opacity:0}).eq(v).addClass("cur").css({opacity:1}),c.attr("data-index",v))}})};t(document).on("click",r,function(){var i=t(this).parent(),a=t(this).index(),e=t(window).height()/1.5,r=i.parent().offset().top+5;t("body, html").animate({scrollTop:r+a*e},500)}),o(),t(window).resize(o),t(window).scroll(o)}}(jQuery),$(function(){$(".Js-mjfullpage").wangfullpage()})},function(t,i){MI.getProductPrice=function(t){var i={priceWrapper:".J_productPriceWrapper",originalPrice:".J_originalPrice",currentPrice:".J_currentPrice"},a=$.extend(i,t),e=$(a.priceWrapper),r="//cn.orderapi.mi.com/stock/goods",n=[];e.each(function(){n.push($(this).attr("data-gid"))}),n.length&&$.ajax({url:r,dataType:"jsonp",jsonp:"jsonpcallback",data:{gids:n.join(",")},timeout:1e4,error:function(){},success:function(t){if(t&&1===t.code){var i;e.each(function(){if(i=$(this).attr("data-gid"),t.data[i]){var e=parseFloat(t.data[i].price),r=parseFloat(t.data[i].market_price||t.data[i].price);e===r&&r>0?($(this).find(a.originalPrice).addClass("hide"),$(this).find(a.currentPrice).find(".num").text(e),$(this).removeClass("hide")):r>e&&($(this).find(a.originalPrice).removeClass("hide").find(".num").text(r),$(this).find(a.currentPrice).find(".num").text(e),$(this).removeClass("hide"))}})}}})}}]);